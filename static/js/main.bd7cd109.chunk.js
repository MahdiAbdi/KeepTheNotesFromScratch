(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){e.exports=n(267)},114:function(e,t,n){},127:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(17),l=n.n(i),r=(n(114),n(95)),s=n(96),c=n(107),u=n(97),h=n(108),d=n(21),p=n.n(d),m=(n(126),n(98)),f=n.n(m),g=n(100),v=n.n(g),b=n(52),E=n.n(b),y=n(37),w=n.n(y),k=n(101),S=n.n(k),C=n(104),I=n.n(C),O=n(105),x=n.n(O),N=n(103),j=n.n(N),B=n(51),R=n.n(B),z=n(9),F=n.n(z),L=n(102),M=n.n(L),A=n(106),G=n.n(A),U=n(50),D=n.n(U),P=n(31),J=n.n(P),W=(n(127),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).provider=null,n.logout=function(){p.a.auth().signOut()},n.login=function(){p.a.auth().signInWithPopup(n.provider).then(function(e){n.handleClose()}).catch(function(e){})},n.handleMenu=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.state={docId:null,note:"",token:null,user:null,error:null,anchorEl:null,open:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.initializeApp({apiKey:"AIzaSyB3GYcRcn40zuiUOL9oEiXC2pE7RWBPX8U",authDomain:"keepthenotes-bf133.firebaseapp.com",databaseURL:"https://keepthenotes-bf133.firebaseio.com",projectId:"keepthenotes-bf133",storageBucket:"keepthenotes-bf133.appspot.com",messagingSenderId:"682012368542"}),this.provider=new p.a.auth.GoogleAuthProvider,console.log(this.provider),p.a.auth().onAuthStateChanged(function(t){if(t){e.setState({user:t});var n=p.a.firestore();n.settings({timestampsInSnapshots:!0}),n.collection("notes").where("author","==",t.email).onSnapshot(function(t){t.docChanges().forEach(function(t){"added"===t.type?e.setState({docId:t.doc.id}):"removed"===t.type&&e.setState({note:""}),e.setState({note:t.doc.data().content})})})}else e.setState({docId:null,note:"",token:null,user:null,error:null})})}},{key:"autoSave",value:function(e){var t=p.a.firestore();this.state.docId?t.collection("notes").doc(this.state.docId).update({content:e.target.value}):t.collection("notes").add({author:this.state.user.email,content:e.target.value})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.anchorEl,a=t.user,i=t.open,l=Boolean(a);console.log(l,a);var r=J()({typography:{fontFamily:"Fira Code"}});return o.a.createElement(D.a,{theme:r},o.a.createElement("div",{className:e.root},o.a.createElement(f.a,{position:"static"},o.a.createElement(v.a,null,o.a.createElement(E.a,{className:e.menuButton,color:"inherit","aria-label":"Menu"},o.a.createElement(S.a,null)),o.a.createElement(w.a,{variant:"h6",color:"inherit",className:e.grow},"ToNote"),o.a.createElement("div",null,l?o.a.createElement("div",{style:{width:"110%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(w.a,{color:"inherit",style:{display:"inline-block"},variant:"body2",className:e.grow},a.displayName),o.a.createElement(M.a,{style:{display:"inline-block"},onClick:this.handleMenu.bind(this),alt:"Remy Sharp",src:a.photoURL,className:e.avatar})):o.a.createElement("div",null,o.a.createElement(w.a,{color:"inherit",style:{display:"inline-block"},variant:"body2",className:e.grow},"Login --\x3e"),o.a.createElement(E.a,{"aria-owns":i?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.login.bind(this),color:"inherit"},o.a.createElement(j.a,null)))),l&&o.a.createElement(I.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:this.state.open,onClose:this.handleClose},o.a.createElement(x.a,{onClick:this.logout.bind(this)},"SignOut")))),l?o.a.createElement(G.a,{id:"outlined-multiline-flexible",multiline:!0,rows:40,value:this.state.note,onChange:this.autoSave.bind(this),className:e.textField,margin:"normal",variant:"outlined"}):null))}}]),t}(a.Component)),X=F()(function(e){return R()({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},textField:{width:"100%",height:"100%",fontFamily:"Comic Sans MS !important"}})})(W);l.a.render(o.a.createElement(X,null),document.getElementById("root"))}},[[109,2,1]]]);
//# sourceMappingURL=main.bd7cd109.chunk.js.map