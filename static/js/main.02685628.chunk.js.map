{"version":3,"sources":["firebase.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","auth","provider","GoogleAuthProvider","db","firestore","withStyles","theme","createStyles","root","flexGrow","grow","menuButton","marginLeft","marginRight","textField","width","height","fontFamily","props","_useState","useState","_useState2","Object","slicedToArray","docId","setDocId","_useState3","_useState4","note","setNote","_useState5","_useState6","user","setUser","_useState7","_useState8","open","setOpen","_useState9","_useState10","anchorEl","setAnchorEl","useEffect","onAuthStateChanged","settings","timestampsInSnapshots","collection","where","email","onSnapshot","snapshot","docChanges","forEach","change","type","doc","id","data","content","classes","isSignedIn","Boolean","createMuiTheme","typography","useNextVariants","suppressDeprecationWarnings","react_default","a","createElement","MuiThemeProvider_default","className","AppBar_default","position","Toolbar_default","IconButton_default","color","aria-label","Menu_default","Typography_default","variant","gutterBottom","onClick","e","currentTarget","style","display","flexDirection","justifyContent","alignItems","displayName","Avatar_default","alt","src","photoURL","avatar","aria-owns","undefined","aria-haspopup","signInWithPopup","then","result","catch","error","AccountCircle_default","core_Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","onClose","MenuItem_default","signOut","TextField_default","multiline","rows","value","onChange","update","target","add","author","margin","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.02685628.chunk.js","sourcesContent":["import firebase from \"firebase\";\n\nconst config = {\n    apiKey: \"AIzaSyB3GYcRcn40zuiUOL9oEiXC2pE7RWBPX8U\",\n    authDomain: \"keepthenotes-bf133.firebaseapp.com\",\n    databaseURL: \"https://keepthenotes-bf133.firebaseio.com\",\n    projectId: \"keepthenotes-bf133\",\n    storageBucket: \"keepthenotes-bf133.appspot.com\",\n    messagingSenderId: \"682012368542\"\n  };\n  \n  firebase.initializeApp(config);\n  export const auth = firebase.auth();\n  export const provider = new firebase.auth.GoogleAuthProvider();\n  export const db = firebase.firestore();","import React, { useState, useEffect } from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport createStyles from \"@material-ui/core/styles/createStyles\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MuiThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport \"./fonts/fira_code.css\";\nimport { auth, provider, db } from \"./firebase\";\n\nfunction App(props) {\n  const [docId, setDocId] = useState(0);\n  const [note, setNote] = useState(\"\");\n  const [user, setUser] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  useEffect(\n    () => {\n      auth.onAuthStateChanged(user => {\n        if (user) {\n          setUser(user);\n          db.settings({ timestampsInSnapshots: true });\n          db.collection(\"notes\")\n            .where(\"author\", \"==\", user.email)\n            .onSnapshot(snapshot => {\n              let changes = snapshot.docChanges();\n              changes.forEach(change => {\n                if (change.type === \"added\") {\n                  setDocId(change.doc.id);\n                } else if (change.type === \"removed\") {\n                  setNote(\"\");\n                }\n                setNote(change.doc.data().content);\n              });\n            });\n        } else {\n          setNote(\"\");\n          setDocId(null);\n          setUser(null);\n        }\n      });\n    },\n    [user]\n  );\n\n  const autoSave = e => {\n    if (docId) {\n      db.collection(\"notes\")\n        .doc(docId)\n        .update({ content: e.target.value });\n    } else {\n      db.collection(\"notes\").add({\n        author: user.email,\n        content: e.target.value\n      });\n    }\n  };\n\n  const login = () => {\n    auth\n      .signInWithPopup(provider)\n      .then(result => {\n        setOpen(false);\n      })\n      .catch(error => {});\n  };\n\n  const { classes } = props;\n  const isSignedIn = Boolean(user);\n  const theme = createMuiTheme({\n    typography: {\n      fontFamily: \"Fira Code\",\n      useNextVariants: true,\n      suppressDeprecationWarnings: true\n    }\n  });\n  return (\n    <MuiThemeProvider theme={theme}>\n      <div className={classes.root}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton\n              className={classes.menuButton}\n              color=\"inherit\"\n              aria-label=\"Menu\"\n            >\n              <MenuIcon />\n            </IconButton>\n            <Typography\n              variant=\"h6\"\n              color=\"inherit\"\n              gutterBottom\n              className={classes.grow}\n            >\n              ToNote\n            </Typography>\n            <div>\n              {isSignedIn ? (\n                <div\n                  onClick={e => {\n                    setOpen(true);\n                    setAnchorEl(e.currentTarget);\n                  }}\n                  style={{\n                    width: \"110%\",\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    justifyContent: \"space-between\",\n                    alignItems: \"center\"\n                  }}\n                >\n                  <Typography\n                    color=\"inherit\"\n                    style={{ display: \"inline-block\" }}\n                    variant=\"body2\"\n                    className={classes.grow}\n                  >\n                    {user.displayName}\n                  </Typography>\n                  <Avatar\n                    style={{ display: \"inline-block\" }}\n                    alt=\"Remy Sharp\"\n                    src={user.photoURL}\n                    className={classes.avatar}\n                  />\n                </div>\n              ) : (\n                <div>\n                  <Typography\n                    color=\"inherit\"\n                    style={{ display: \"inline-block\" }}\n                    variant=\"body2\"\n                    className={classes.grow}\n                  >\n                    Login -->\n                  </Typography>\n                  <IconButton\n                    aria-owns={open ? \"menu-appbar\" : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={login}\n                    color=\"inherit\"\n                  >\n                    <AccountCircle />\n                  </IconButton>\n                </div>\n              )}\n            </div>\n            {isSignedIn && (\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"bottom\",\n                  horizontal: \"left\"\n                }}\n                transformOrigin={{\n                  vertical: \"bottom\",\n                  horizontal: \"left\"\n                }}\n                open={open}\n                onClose={() => setOpen(false)}\n              >\n                <MenuItem onClick={() => auth.signOut()}>SignOut</MenuItem>\n              </Menu>\n            )}\n          </Toolbar>\n        </AppBar>\n        {isSignedIn ? (\n          <TextField\n            id=\"outlined-multiline-flexible\"\n            multiline\n            rows={40}\n            value={note}\n            onChange={autoSave}\n            className={classes.textField}\n            margin=\"normal\"\n            variant=\"outlined\"\n          />\n        ) : null}\n      </div>\n    </MuiThemeProvider>\n  );\n}\n\nconst styles = theme =>\n  createStyles({\n    root: {\n      flexGrow: 1\n    },\n    grow: {\n      flexGrow: 1\n    },\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20\n    },\n    textField: {\n      width: \"100%\",\n      height: \"100%\",\n      fontFamily: \"Comic Sans MS !important\"\n    }\n  });\n\nexport default withStyles(styles)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}